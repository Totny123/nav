{"version":3,"sources":["main.js"],"names":["hashMap","localStorage","getItem","localBgImgUrl","siteArr","JSON","parse","favicon","url","bgImgUrl","render","$","siblings","remove","forEach","item","index","before","toUpperCase","simplifyUrl","replace","deleteSite","splice","setItem","stringify","changeBgImg","navigator","userAgent","match","css","on","reg","message","window","prompt","indexOf","test","push","dblclick","e","target","currentTarget","document","keydown","key","toLowerCase","location","href","setTimeout","alert"],"mappings":"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","file":"main.c1a63170.map","sourceRoot":"..\\src","sourcesContent":["let hashMap = localStorage.getItem(\"hashMap\");\r\nlet localBgImgUrl = localStorage.getItem(\"bgImgUrl\");\r\nlet siteArr = JSON.parse(hashMap) || [\r\n  { favicon: \"A\", url: \"https://www.acfun.cn\" },\r\n  { favicon: \"B\", url: \"https://www.bilibili.com\" },\r\n];\r\nlet bgImgUrl =\r\n  JSON.parse(localBgImgUrl) ||\r\n  \"https://cdn.wallpaperhub.app/cloudcache/3/b/3/b/a/3/3b3ba3e59c8d226e7917840d676ee09d20dfa4dd.jpg\";\r\n//渲染网站列表\r\nfunction render() {\r\n  $(\".site-list li:last-child\").siblings().remove();\r\n  siteArr.forEach((item, index) => {\r\n    $(\".site-list li:last-child\").before(`\r\n      <li>\r\n        <a class=\"site-wrapper\" href=\"${item.url}\">\r\n          <div class=\"favicon\">${item.favicon.toUpperCase()}</div>\r\n          <div class=\"link\">${simplifyUrl(item.url)}</div>\r\n        </a>\r\n        <div class=\"delete\" onClick=\"deleteSite(${index})\">\r\n          <svg class=\"icon\" aria-hidden=\"true\">\r\n            <use xlink:href=\"#icon-delete\"></use>\r\n          </svg>\r\n        </div>\r\n      </li>\r\n    `);\r\n  });\r\n}\r\n//简化URL，便于展示\r\nfunction simplifyUrl(url) {\r\n  return url.replace(\"https://\", \"\").replace(\"http://\").replace(\"www.\", \"\");\r\n}\r\n//移除某个网站\r\nfunction deleteSite(index) {\r\n  siteArr.splice(index, 1);\r\n  localStorage.setItem(\"hashMap\", JSON.stringify(siteArr));\r\n  render();\r\n}\r\n//改变网页背景，只在PC端进行修改\r\nfunction changeBgImg() {\r\n  if (!navigator.userAgent.match(/mobile/i)) {\r\n    $(\"body\").css(\"background-image\", `url(${bgImgUrl})`);\r\n  }\r\n}\r\n//监听新增网站的点击\r\n$(\".add-wrapper\").on(\"click\", () => {\r\n  let reg =\r\n    /^(?:(http|https):\\/\\/)?((?:[\\w-]+\\.)+[a-z0-9]+)((?:\\/[^/?#]*)+)?(\\?[^#]+)?(#.+)?$/i;\r\n  let url = \"\";\r\n  let message = \"请输入要添加的网站！\";\r\n  while (1) {\r\n    url = window.prompt(message);\r\n    if (url === null) {\r\n      return;\r\n    }\r\n    if (url.indexOf(\"https://\") === -1 && url.indexOf(\"http://\")) {\r\n      url = \"https://\" + url;\r\n    }\r\n    if (reg.test(url)) {\r\n      break;\r\n    } else {\r\n      message = \"输入网址格式错误，请重新输入！\";\r\n    }\r\n  }\r\n  siteArr.push({ favicon: simplifyUrl(url)[0], url });\r\n  localStorage.setItem(\"hashMap\", JSON.stringify(siteArr));\r\n  render();\r\n});\r\n//PC监听body的双击,进行背景修改。\r\n$(\"body\").dblclick((e) => {\r\n  if (e.target === e.currentTarget) {\r\n    let reg =\r\n      /^(?:(http|https):\\/\\/)?((?:[\\w-]+\\.)+[a-z0-9]+)((?:\\/[^/?#]*)+)?(\\?[^#]+)?(#.+)?$/i;\r\n    let url = \"\";\r\n    let message = \"请输入背景图片URL！\";\r\n    while (1) {\r\n      url = window.prompt(message);\r\n      if (url === null) {\r\n        return;\r\n      }\r\n      if (url.indexOf(\"https://\") === -1 && url.indexOf(\"http://\")) {\r\n        url = \"https://\" + url;\r\n      }\r\n      if (reg.test(url)) {\r\n        break;\r\n      } else {\r\n        message = \"输入URL格式错误，请重新输入！\";\r\n      }\r\n    }\r\n    bgImgUrl = url;\r\n    localStorage.setItem(\"bgImgUrl\", JSON.stringify(bgImgUrl));\r\n    changeBgImg();\r\n  }\r\n});\r\n//监听键盘事件\r\n$(document).keydown((e) => {\r\n  let key = e.key.toLowerCase();\r\n  siteArr.forEach((item) => {\r\n    if (item.favicon.toLowerCase() === key) {\r\n      window.location.href = item.url;\r\n    }\r\n  });\r\n});\r\nrender();\r\nchangeBgImg();\r\n//判断是否第一次进入该网站。\r\nif (!localStorage.getItem(\"first\")) {\r\n  if (!navigator.userAgent.match(/mobile/i)) {\r\n    setTimeout(() => {\r\n      alert(`\r\n      友情提示：\r\n            双击背景图片可进行背景修改！\r\n            键盘按下网站对应首字母可快捷跳转！\r\n            `);\r\n      localStorage.setItem(\"first\", 1);\r\n    }, 1000);\r\n  }\r\n}\r\n"]}